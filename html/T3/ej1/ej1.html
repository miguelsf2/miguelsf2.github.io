<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../../../css/general.css">
    <link rel="stylesheet" href="../../../css/texto.css">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <!-- NAVEGACION -->
    <nav class="navbar navbar-light ">
        <button class="navbar-toggler" type="button" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
    </nav>
    <div class="sidebar" id="sidebarMenu">
        <ul class="nav flex-column">
            <!-- PARA IR A INICIO-->
            <li class="nav-item">
                <p class="tema inicio" style="margin-top: 10px;">
                    <a href="../../../index.html">Ir a Inicio</a>
                </p>
            </li>
            <div class="temas">
                <!-- TEMA 1 -->
                <li class="nav-item">
                    <p class="tema">Tema 1</p>
                    <ul>
                        <li><a href="../../../html/T1/ej1/ej1.html">Ejercicio 1: Montaña Rusa</a></li>
                        <li><a href="../../../html/T1/ej2/ej2.html">Ejercicio 2: Bola alrededor de un punto</a></li>
                        <li><a href="../../../html/T1/ej3/ej3.html">Ejercicio 3: Movimiento de una partícula sobre dos funciones oscilatorias</a></li>
                        <li><a href="../../../html/T1/ej4/ej4.html">Ejercicio 4: Bubble Shooter</a></li>
                        <li><a href="../../../html/T1/ej5/ej5.html">Ejercicio 5: El Paracaidista</a></li>
                        <li><a href="../../../html/T1/ej6/ej6.html">Ejercicio 6: Euler Explícito</a></li>
                        <li><a href="../../../html/T1/ej7/ej7.html">Ejercicio 7: Error numérico y estabilidad</a></li>
                        <li><a href="../../../html/T1/ej8/ej8.html">Ejercicio 8: Tiro parabólico</a></li>
                        <li><a href="../../../html/T1/ej9/ej9.html">Ejercicio 9: Burbuja de aire</a></li>
                        <li><a href="../../../html/T1/ej10/ej10.html">Ejercicio 10: RK2 y RK4 en el ejercicio de Euler Explícito</a></li>
                        <li><a href="../../../html/T1/ej11/ej11.html">Ejercicio 11: Plano Inclinado</a></li>
                        <li><a href="../../../html/T1/ej12/ej12.html">Ejercicio 12: Acelerador de coche</a></li>
                      </ul>                      
                </li>

                <!-- TEMA 2 -->
                <li class="nav-item">
                    <p class="tema">Tema 2</p>
                    <ul>
                        <li><a href="../../../html/T2/ej1y2/ej1y2.html">Ejercicio 1 y 2: Particula Flotante y Splash</a></li>
                        <li><a href="../../../html/T2/ej3/ej3.html">Ejercicio 3: Fuente</a></li>
                    </ul>
                </li>

                <!-- TEMA 3 -->
                <li class="nav-item">
                    <p class="tema">Tema 3</p>
                    <ul>
                        <li class="active"><a href="../../../html/T3/ej1/ej1.html">Ejercicio 1: Pelo</a></li>
                        <li><a href="../../../html/T3/ej2/ej2.html">Ejercicio 2: Banderas</a></li>
                        <li><a href="../../../html/T3/ej3/ej3.html">Ejercicio 3: Tela colisionando con esfera</a></li>
                    </ul>
                </li>                
            </div>
            <div class="practicas">
                <!-- PRACTICA 1 -->
                <li class="nav-item">
                    <p class="tema"> <a class="tema" href="../../../html/PRACTICAS/p1/p1.html" style="text-align: center;">Práctica 1</a></p>
                </li>

                <!-- PRACTICA 2 -->
                <li class="nav-item">
                    <p class="tema"> <a class="tema" href="../../../html/PRACTICAS/p2/p2.html" style="text-align: center;">Práctica 2</a></p>
                </li>

                <!-- PRACTICA 3 -->
                    <li class="nav-item">
                    <p class="tema">Práctica 3</p>
                    <ul>
                        <li><a href="../../../html/PRACTICAS/p3/p3.1.html">Parte 1: Billar Francés</a></li>
                        <li><a href="../../../html/PRACTICAS/p3/p3.2.html">Parte 2: Recipiente</a></li>
                    </ul>
                </li>

                <!-- PRACTICA 4 -->
                <li class="nav-item">
                    <p class="tema">Práctica 4</p>
                    <ul>
                        <li><a href="../../../html/PRACTICAS/p4/p4.1.html">Parte 1: Portería</a></li>
                        <li><a href="../../../html/PRACTICAS/p4/p4.2.html">Parte 2: Olas</a></li>
                    </ul>
                </li>     
                
                <!-- PRACTICA 5 -->
                <li class="nav-item">
                    <p class="tema"> <a class="tema" href="../../../html/PRACTICAS/p5/p5.html" style="text-align: center;">Práctica 5</a></p>
                </li> 
            </div>
        </ul>
    </div>

    <!-- CONTENIDO -->
    <div class="content" id="mainContent">
        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
            <div style="height: 75vh;">
                <h1 class="titulo">Ejercicio 1: Pelo</h1>
                <a href="https://openprocessing.org/sketch/2292984">Enlace para ver el codigo</a>
                
                <!-- IMAGEN-->
                <div class="container">
                    <div class="row">
                      <div class="col-12 d-flex justify-content-center align-items-center">
                        <img src="./pelo.png" alt="pelo" width="500px"> 
                      </div>
                    </div>
                </div>
                
                <p>En este ejercicio he realizado una simulación de un cabello, donde podemos interactuar con el pelo con el ratón al pulsar sobre él.</p>
                <p>Para el video he usado los siguientes parámetros:</p>
                <ul>
                    <li class="list_item">Sim_step: 0,25</li>
                    <li class="list_item">R_Cara: 90</li>
                    <li class="list_item">N_Pelos: 50</li>
                    <li class="list_item">M: 2</li>
                    <li class="list_item">MIN_L: 100</li>
                    <li class="list_item">MAX_L: 300</li>
                    <li class="list_item">MIN_GROSOR: 2</li>
                    <li class="list_item">MAX_GROSOR: 5</li>
                    <li class="list_item">MIN_DIV: 10</li>
                    <li class="list_item">MAX_DIV: 20</li>
                    <li class="list_item">G: 9.81</li>
                    <li class="list_item">Ke: 14</li>
                    <li class="list_item">Kd: 13</li>
                </ul>
                <p>En cuanto al programa principal, en la función setup se inicializa un objeto de la clase cabello, la cual almacena todos los pelos que se van a generar. Para crear los pelos, se utiliza el siguiente codigo:</p>                
                <div class="container">
                    <div class="row">
                      <div class="col-12 d-flex justify-content-center align-items-center">
                        <img src="./codigo_crearpelos.png" alt="codigo pelo" width="2000px"> 
                      </div>
                    </div>
                </div>
                <p>Primero, se utiliza un bucle for para crear tantos pelos como hayamos establecido en los parámetros. En el bucle se obtiene un punto del borde de la cara aleatoriamente el cual será la raíz de un pelo. Después se obtendrán los valores de la longitud, grosor y numero de divisiones del pelo y por ultimo se añadirá el pelo al cabello.</p>
                <p>En la función draw, primero se detecta si se ha pulsado el ratón, después se dibuja el fondo, la cabeza y por ultimo el cabello que dibujará todos los pelos. Una vez dibujados, se actualiza la simulación llamando al método update del cabello. En el update del cabello, se llama a la funcion update() de cada pelo.</p>
                <p>La clase pelo tiene los siguientes elementos:</p>
                <ul>
                    <li class="list_item">Raiz del pelo</li>
                    <li class="list_item">Longitud total</li>
                    <li class="list_item">Longitud de cada división</li>
                    <li class="list_item">Numero de divisiones</li>
                    <li class="list_item">Grosor</li>
                    <li class="list_item">Lista de muelles</li>
                </ul>
                <p>Al crear un pelo, se establecen los parámetros con los que se han pasado al constructor y para crear los muelles y particulas, se utiliza el siguiente codigo</p>
                <div class="container">
                    <div class="row">
                      <div class="col-12 d-flex justify-content-center align-items-center">
                        <img src="./codigo_crearmuelles.png" alt="codigo pelo" width="2000px"> 
                      </div>
                    </div>
                </div>
                <p>Se crearán tantos muelles como numero de divisiones tengamos. Antes de empezar el bucle, se crea una partícula que será la partícula de la raíz, la cual está anclada y no tiene gravedad. Dentro del bucle, primero creamos la partícula siguiente, cuya posición será igual a la de la partícula 1 + la longitud de cada división en el eje Y. Tras crear la partícula, creamos el muelle entre las partículas 1 y 2 y lo añadimos a la lista de muelles. Finalmente, asignamos p2 como la partícula 1 para la siguiente iteración del bucle.</p>
                <p>En la funcion render() de la clase pelo, se recorren todos los muelles y se crea una linea entre las particulas de este. En la función update(), se recorren todos los muelles y se llama a la función update() de cada uno.</p>
                <p>La clase muelle tiene los siguientes atributos:</p>
                <ul>
                    <li class="list_item">Particulas p1 y p2: delimitan el muelle</li>
                    <li class="list_item">Ke y Kd</li>
                    <li class="list_item">Elongación de reposo (l0), elongación actual (l) y elongación anterior (l_ant)</li>
                    <li class="list_item">Fuerza aplicada al muelle por p1</li>
                </ul>
                <p>En la funcion update() del muelle, se realiza el siguiente codigo:</p>
                <div class="container">
                    <div class="row">
                      <div class="col-12 d-flex justify-content-center align-items-center">
                        <img src="./codigo update muelle.png" alt="codigo pelo" width="2000px"> 
                      </div>
                    </div>
                </div> 
                <ul>
                    <li class="list_item">Se obtiene la elongación actual con la distancia de p1 a p2</li>
                    <li class="list_item">Calculamos la fuerza elástica con la fórmula de la fuerza elástica:<br>𝐹𝑒 = 𝐾𝑒 ∗ 𝑥 = 𝐾𝑒 ∗ (𝑙 − 𝑙0)<br>Donde Ke es la constante elástica del muelle y x el cambio de elongación.</li>
                    <li class="list_item">Calculamos la fuerza de amortiguación, que será contraria a la fuerza elástica.<br>𝐹𝑑 = −𝐾𝑑 ∗ (𝑣2 − 𝑣1)<br>Donde Kd es la constante de amortiguación del muelle y 𝑣2 − 𝑣1 es la resta de la velocidad de la partícula 2 menos la velocidad de la partícula 1.</li>
                    <li class="list_item">Obtenemos la fuerza total del muelle sumando la fuerza elástica y la fuerza de amortiguación:<br>𝐹𝑡 = 𝐹𝑒 + 𝐹𝑑</li>
                    <li class="list_item">Actualizamos las partículas p1 y p2 con Euler simpléctico. Si la partícula no tiene gravedad, no se añade la fuerza de la gravedad y si está anclada, no se actualiza</li>
                  </ul>
                <p>Para la interacción con el ratón, he creado el siguiente codigo:</p>
                <ol>
                    <li class="list_item">                        <p>En el programa principal, detectamos si hemos pulsado con el click izquierdo y llamamos a checkClick de objeto cabello con las coordenadas del ratón</p>
                        <div class="container">
                            <div class="row">
                              <div class="col-12 d-flex justify-content-center align-items-center">
                                <img src="./codigo_mousepressed.png" alt="codigo pelo" width="2000px"> 
                              </div>
                            </div>
                        </div> 
                    </li>
                    <li class="list_item">
                        <p>Después, en la clase cabello para cada pelo detectamos si se ha hecho click sobre el:</p>
                        <div class="container">
                            <div class="row">
                              <div class="col-12 d-flex justify-content-center align-items-center">
                                <img src="./checkclick.png" alt="codigo pelo" width="2000px"> 
                              </div>
                            </div>
                        </div> 
                    </li>
                    <li class="list_item">
                        <p>Por último, en la clase pelo finalmente detectamos si se ha pulsado sobre un pelo calculando la distancia desde la coordenada pulsada a la segunda partícula de cada muelle</p>
                        <div class="container">
                            <div class="row">
                              <div class="col-12 d-flex justify-content-center align-items-center">
                                <img src="./mousesobrepelo.png" alt="codigo pelo" width="2000px"> 
                              </div>
                            </div>
                        </div> 
                    </li>
                </ol>

                <!-- VIDEO-->
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-12 col-md-8">
                            <div class="ratio ratio-16x9">
                                <iframe width="560" height="315" src="https://www.youtube.com/embed/CoCE8tsSoNI?si=7W5r8k_hqsgTOMoc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>                        </div>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
        </main>
    </div>

    <!-- FOOTER -->
    <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top container fixed-bottom">
        <p class="col-md-6 col-lg-4 mb-0 text-center text-md-left text-body-secondary">2023-2024 Simulación 3º GIM, ETSE</p>
        <p class="col-md-6 col-lg-4 mb-0 text-center text-md-right">Hecho por Miguel Sánchez Ferrer</p>
    </footer>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        $(document).ready(function () {
            $('.navbar-toggler').on('click', function () {
                $('#sidebarMenu').toggleClass('show');
                $('#mainContent').toggleClass('shifted');
            });
        });
    </script>    
</body>
</html>